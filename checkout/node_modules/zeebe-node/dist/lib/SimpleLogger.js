"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const dayjs_1 = __importDefault(require("dayjs"));
/**
 * Simple logger for ZBClient
 */
const logger = (loglevel) => (logMessage) => {
    let message;
    try {
        const parsedMessage = JSON.parse(logMessage);
        const gRPC = parsedMessage.id === 'gRPC Channel' ? ' [gRPC Channel]:' : '';
        const taskType = parsedMessage.taskType
            ? ` [${parsedMessage.taskType}]`
            : '';
        const msg = typeof parsedMessage.message === 'object'
            ? JSON.stringify(parsedMessage.message)
            : parsedMessage.message;
        message = `| zeebe | ${gRPC}${taskType} ${loglevel}: ${msg}`;
    }
    catch (e) {
        message = logMessage;
    }
    const time = dayjs_1.default().format('HH:mm:ss.SSS');
    // tslint:disable-next-line: no-console
    const logMethod = loglevel === 'INFO' ? console.info : console.error;
    logMethod(`${time} ${message}`);
};
exports.ZBSimpleLogger = {
    debug: logger('DEBUG'),
    error: logger('ERROR'),
    info: logger('INFO'),
};
//# sourceMappingURL=SimpleLogger.js.map